# ブロックチェーンのイベントを使用してビジネス・プロセスを自動化する

### Hyperledger Composer を使用してトランザクション・イベントに対応する

English version: https://developer.ibm.com/patterns/automate-business-processes-via-blockchain-events
  ソースコード: https://github.com/IBM/BlockchainEvents-CompositeJourney

###### 最新の英語版コンテンツは上記URLを参照してください。
last_updated: 2018-02-02

 _**注:** このパターンは、過去の技術（Fabric 1.4 以前の Hyperledger Fabric API など）に焦点を当てています。そのため、このパターンについてのサポートはありません。更新されたリリース「[Blockchain Platform からイベントを発行する](https://developer.ibm.com/jp/patterns/implementing-blockchain-events-using-ibp-vscode-extension/)」から作業を開始することをお勧めします。_

## 概要

おめでとうございます！ブロックチェーン・アプリケーションの作成を開始する方法を紹介するコード・パターン・シリーズの第 3 回に到達しました。今回のパターンでは、外部アプリケーションがイベントにサブスクライブしてアクションをとれるよう、ブロックチェーン・ネットワークからイベントを送信する方法を学びます。これまでの回で説明したように、革新的なビジネス・ソリューションの基盤となるのは、ブロックチェーンによる信用が置けて不変の共有レジャーです。この共有レジャーに対するイベントが発生した場合、通常は、アプリケーションや外部システムがそれを把握しなければなりません。このパターンで、これらのイベント通知をプログラムによってブロックチェーン・ネットワークから生成し、受信できるようにする方法を説明します。

## 説明

Hyperledger Fabric V1.1 および Hyperledger Composer V0.19 に対応するために更新

**注:** この開発者向けパターンは、これからブロックチェーンを使い始める方のために設計されたシリーズの第 3 回目です。シリーズの概要については、[初めてのブロックチェーン・アプリケーションを構築する](https://developer.ibm.com/jp/series/code-pattern-series-build-your-first-blockchain-application/) をご覧ください。

ここまでで、Hyperledger Fabric ネットワークを作成し、スマートコントラクトを実行する方法が理解できたので（関連パターンを参照）、イベントに参加する準備が整いました！

例えば製品オークション・ネットワーク内で自動車を売りに出した後、その自動車のオークション・プロセスを追跡する作業に不安を覚えているとしたら、Hyperledger Composer を頼りにしてください。Hyperledger Composer では、そのような手作業によるオークション・プロセスの追跡を自動化するために、イベント通知を送信するという今までにない方法を使用できます。必要に応じてイベントを送信するには、資産に対する CRUD 処理をエミュレートするトランザクションを Composer 内で作成できます。自動車のオークションの場合、自動車に対する提示金額の通知を受けるには「OfferEvent」イベントを listen し、オークションの詳細を出力するためにプリンターに「PrintBillOfSale」イベントを listen することになります。

このパターンは、製品オークション・ネットワークの一連の参加者間でのスマート・コントラクトを作成するパターンを拡張したものです（関連パターンを参照）。今回は、ブロックチェーン・ネットワークからイベントを送信し、それらのイベントに外部 Web アプリケーションからサブスクライブする方法を説明します。

## フロー

![フロー](../../images/arch-blockchain-events.png)

1. Hyperledger Fabric ネットワークを起動します。
2. ビジネス・ネットワーク・アーカイブを生成してデプロイします。
3. Hyperledger Composer REST サーバーを起動してデプロイ済みのビジネス・ネットワークに接続し、Web アプリケーションを起動します。

## 手順

1. ビジネス・ネットワーク・アーカイブ (BNA) を生成します。
1. ビジネス・ネットワーク・アーカイブを、ローカルで稼働中の Hyperledger Composer 上にデプロイします。
1. Web UI を起動します。
1. トランザクションを実行し、イベントを送信して処理します。

このコードパターンを使用する準備はできていますか？このアプリケーションの実行と使用を開始する方法の詳細は README にあります。
